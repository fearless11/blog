<!DOCTYPE html><html lang="en"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content=""><title>Linux 常用命令 | lemon11</title><link rel="stylesheet" type="text/css" href="/blog/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask="" sizes="any" href="/blog/favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="/blog/favicon.ico"><link rel="apple-touch-icon" href="/blog/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/blog/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/blog/atom.xml"><meta name="generator" content="Hexo 4.2.1"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Linux 常用命令</h1><a id="logo" href="/blog/.">lemon11</a><p class="description">actions speak louder than words.</p></div><div id="nav-menu"><a class="current" href="/blog/."><i class="fa fa-home"> Home</i></a><a href="/blog/archives/"><i class="fa fa-archive"> Archive</i></a><a href="/blog/about/"><i class="fa fa-user"> About</i></a><a href="/blog/atom.xml"><i class="fa fa-rss"> RSS</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Linux 常用命令</h1><div class="post-meta">Jul 11, 2020<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span> | </span><span id="busuanzi_value_page_pv">   </span></div><div class="clear"><div class="toc-article" id="toc"><div class="toc-title">Contents</div><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#基础命令"><span class="toc-number">1.</span> <span class="toc-text">基础命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#日常"><span class="toc-number">1.1.</span> <span class="toc-text">日常</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#help"><span class="toc-number">1.1.1.</span> <span class="toc-text">help</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#alias-amp-unalias"><span class="toc-number">1.1.2.</span> <span class="toc-text">alias &amp; unalias</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#export"><span class="toc-number">1.1.3.</span> <span class="toc-text">export</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#jq"><span class="toc-number">1.1.4.</span> <span class="toc-text">jq</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#systemctl"><span class="toc-number">1.1.5.</span> <span class="toc-text">systemctl</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#bc"><span class="toc-number">1.1.6.</span> <span class="toc-text">bc</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ntpdate"><span class="toc-number">1.1.7.</span> <span class="toc-text">ntpdate</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ls"><span class="toc-number">1.1.8.</span> <span class="toc-text">ls</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cd"><span class="toc-number">1.1.9.</span> <span class="toc-text">cd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dos2unix-amp-unix2dos"><span class="toc-number">1.1.10.</span> <span class="toc-text">dos2unix  &amp; unix2dos</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#date"><span class="toc-number">1.1.11.</span> <span class="toc-text">date</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pwd"><span class="toc-number">1.1.12.</span> <span class="toc-text">pwd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#whoami"><span class="toc-number">1.1.13.</span> <span class="toc-text">whoami</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#time"><span class="toc-number">1.1.14.</span> <span class="toc-text">time</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#basename"><span class="toc-number">1.1.15.</span> <span class="toc-text">basename</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dirname"><span class="toc-number">1.1.16.</span> <span class="toc-text">dirname</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#grep"><span class="toc-number">1.1.17.</span> <span class="toc-text">grep</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#xargs"><span class="toc-number">1.1.18.</span> <span class="toc-text">xargs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#readlink"><span class="toc-number">1.1.19.</span> <span class="toc-text">readlink</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#which-amp-whereis"><span class="toc-number">1.1.20.</span> <span class="toc-text">which &amp; whereis</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#locate"><span class="toc-number">1.1.21.</span> <span class="toc-text">locate</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#find"><span class="toc-number">1.1.22.</span> <span class="toc-text">find</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#du"><span class="toc-number">1.1.23.</span> <span class="toc-text">du</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#kill"><span class="toc-number">1.1.24.</span> <span class="toc-text">kill</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#trap"><span class="toc-number">1.2.</span> <span class="toc-text">trap</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#mount"><span class="toc-number">1.2.1.</span> <span class="toc-text">mount</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#curl"><span class="toc-number">1.2.2.</span> <span class="toc-text">curl</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#shutdown-amp-poweroff-amp-reboot"><span class="toc-number">1.2.3.</span> <span class="toc-text">shutdown &amp; poweroff &amp; reboot</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#文件"><span class="toc-number">1.3.</span> <span class="toc-text">文件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#touch"><span class="toc-number">1.3.1.</span> <span class="toc-text">touch</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rm"><span class="toc-number">1.3.2.</span> <span class="toc-text">rm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#stat"><span class="toc-number">1.3.3.</span> <span class="toc-text">stat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cp-amp-scp"><span class="toc-number">1.3.4.</span> <span class="toc-text">cp &amp; scp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rsync"><span class="toc-number">1.3.5.</span> <span class="toc-text">rsync</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sz-amp-rz"><span class="toc-number">1.3.6.</span> <span class="toc-text">sz &amp; rz</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tar"><span class="toc-number">1.3.7.</span> <span class="toc-text">tar</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#zip"><span class="toc-number">1.4.</span> <span class="toc-text">zip</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#gzip"><span class="toc-number">1.4.1.</span> <span class="toc-text">gzip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mv"><span class="toc-number">1.4.2.</span> <span class="toc-text">mv</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ln"><span class="toc-number">1.4.3.</span> <span class="toc-text">ln</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cat"><span class="toc-number">1.4.4.</span> <span class="toc-text">cat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tac"><span class="toc-number">1.4.5.</span> <span class="toc-text">tac</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#more"><span class="toc-number">1.4.6.</span> <span class="toc-text">more</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#less"><span class="toc-number">1.4.7.</span> <span class="toc-text">less</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#head"><span class="toc-number">1.4.8.</span> <span class="toc-text">head</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tail"><span class="toc-number">1.4.9.</span> <span class="toc-text">tail</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mkdir-amp-rmdir"><span class="toc-number">1.4.10.</span> <span class="toc-text">mkdir &amp; rmdir</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lsyncd"><span class="toc-number">1.4.11.</span> <span class="toc-text">lsyncd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cron"><span class="toc-number">1.4.12.</span> <span class="toc-text">cron</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#用户"><span class="toc-number">1.5.</span> <span class="toc-text">用户</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#passwd"><span class="toc-number">1.5.1.</span> <span class="toc-text">passwd</span></a></li></ol></li></ol></li></ol></div></div><div class="post-content"><h2 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h2><h3 id="日常"><a href="#日常" class="headerlink" title="日常"></a>日常</h3><h4 id="help"><a href="#help" class="headerlink" title="help"></a>help</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 获得命令帮助</span></span><br><span class="line">cmd --<span class="built_in">help</span></span><br><span class="line">man cmd</span><br><span class="line">info cmd</span><br></pre></td></tr></table></figure>

<h4 id="alias-amp-unalias"><a href="#alias-amp-unalias" class="headerlink" title="alias &amp; unalias"></a>alias &amp; unalias</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">alias</span> gitee=<span class="string">'cd /data/go/src/gitee.com/feareless11'</span></span><br><span class="line"><span class="built_in">unalias</span> gitee</span><br></pre></td></tr></table></figure>
<h4 id="export"><a href="#export" class="headerlink" title="export"></a>export</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PS1=<span class="string">'\[\e[32m\][\u@\H:\[\e[m\]\[\e[33m\]\w\[\e[m\]\[\e[32m\]]\[\e[m\]\$ '</span></span><br></pre></td></tr></table></figure>

<h4 id="jq"><a href="#jq" class="headerlink" title="jq"></a>jq</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">sh 60_hardware.sh | jq</span><br><span class="line"></span><br><span class="line"><span class="comment"># json校验</span></span><br><span class="line">sh 60_hardware.sh | python -m json.tool</span><br></pre></td></tr></table></figure>

<h4 id="systemctl"><a href="#systemctl" class="headerlink" title="systemctl"></a>systemctl</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld      <span class="comment"># 临时关闭</span></span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld   <span class="comment"># 禁止开机启动</span></span><br></pre></td></tr></table></figure>

<h4 id="bc"><a href="#bc" class="headerlink" title="bc"></a>bc</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 浮点数比较</span></span><br><span class="line"><span class="keyword">if</span> [[ $(<span class="built_in">echo</span> <span class="string">"2.0 &gt; 100.0"</span>|bc) == 1 ]] ; <span class="keyword">then</span>  <span class="built_in">echo</span> ok; <span class="keyword">fi</span></span><br></pre></td></tr></table></figure>

<h4 id="ntpdate"><a href="#ntpdate" class="headerlink" title="ntpdate"></a>ntpdate</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 选择时区</span></span><br><span class="line">tzselect</span><br><span class="line"></span><br><span class="line"><span class="comment"># 设置时区</span></span><br><span class="line">tail -n 1 /etc/profile</span><br><span class="line">TZ=<span class="string">'Asia/Shanghai'</span>; <span class="built_in">export</span> TZ</span><br><span class="line"></span><br><span class="line"><span class="comment"># 更新服务器时间</span></span><br><span class="line">yum install ntp -y  </span><br><span class="line">ntpdate 1.cn.pool.ntp.org  </span><br><span class="line">ntpdate cn.pool.ntp.org</span><br></pre></td></tr></table></figure>

<h4 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> ls -lthsi /data</span></span><br><span class="line">-l 长格</span><br><span class="line">-s 文件大小</span><br><span class="line">-i 节点信息</span><br><span class="line">-h 字节单位</span><br><span class="line">-t 文件修改时间排序</span><br><span class="line">-R 递归显示内容 递归recursive</span><br><span class="line">-a 显示所有子目录和文件 包含隐藏文件</span><br><span class="line">-A 类似于-a，不显示隐藏文件</span><br><span class="line">-r 目录清单以英文字母的顺序逆序显示</span><br><span class="line">查看目录本身：ls -ld 目录</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> ls -l <span class="built_in">test</span></span></span><br><span class="line">-rw------- 1 root root 1086 07-29 18:35 test</span><br><span class="line">文件属性 连接数 拥有者 群组 实际用去的大小 最后被修改的时间 文件名</span><br><span class="line">第2字段：</span><br><span class="line">连接数 == 目录下子目录的个数</span><br><span class="line">如果是链接目录：起始值是1</span><br><span class="line">普通空目录：起始值是2，表示该目录下有两个隐藏的子目录"."和".."</span><br><span class="line"></span><br><span class="line">ls -1 -f /path/to/dir  # 文件过多无法ls</span><br></pre></td></tr></table></figure>

<h4 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h4><h4 id="dos2unix-amp-unix2dos"><a href="#dos2unix-amp-unix2dos" class="headerlink" title="dos2unix  &amp; unix2dos"></a>dos2unix  &amp; unix2dos</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install dos2unix -y  </span><br><span class="line">dos2unix check.sh </span><br><span class="line">dos2unix -k -n oldfile newfile  <span class="comment"># k时间戳不变,n保存为新文件</span></span><br><span class="line"><span class="comment"># unix2dos命令的使用方式与dos2unix命令的类似</span></span><br></pre></td></tr></table></figure>

<h4 id="date"><a href="#date" class="headerlink" title="date"></a>date</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">date -d @1523440200             <span class="comment"># 解析时间戳</span></span><br><span class="line">date -d <span class="string">'2017-10-20'</span> +%s        <span class="comment"># 生成时间戳</span></span><br><span class="line">date -d <span class="string">"1 day ago"</span> +%s         <span class="comment"># 一天前</span></span><br><span class="line">date -u +<span class="string">"%FT%T.000Z"</span>           <span class="comment"># UTC时间显示</span></span><br><span class="line">date -u +<span class="string">"%FT%T.000Z"</span> -d <span class="string">'1 hours ago'</span></span><br></pre></td></tr></table></figure>

<h4 id="pwd"><a href="#pwd" class="headerlink" title="pwd"></a>pwd</h4><h4 id="whoami"><a href="#whoami" class="headerlink" title="whoami"></a>whoami</h4><h4 id="time"><a href="#time" class="headerlink" title="time"></a>time</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">time cmd   <span class="comment"># 命令执行的real真实、user用户、sys系统时间</span></span><br></pre></td></tr></table></figure>

<h4 id="basename"><a href="#basename" class="headerlink" title="basename"></a>basename</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">basename 绝对路径 <span class="comment"># 截取路径的最后一层 (pwd |xargs basename)</span></span><br></pre></td></tr></table></figure>

<h4 id="dirname"><a href="#dirname" class="headerlink" title="dirname"></a>dirname</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirname 绝对路径 <span class="comment"># 只不截取路径的最后一层 (pwd |xargs dirname)</span></span><br></pre></td></tr></table></figure>

<h4 id="grep"><a href="#grep" class="headerlink" title="grep"></a>grep</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># count数量</span></span><br><span class="line">grep -c <span class="string">"str"</span> file</span><br><span class="line"><span class="comment"># 忽略大小写</span></span><br><span class="line">grep -i <span class="string">"Str"</span> file</span><br><span class="line"><span class="comment"># 不显示文件名</span></span><br><span class="line">grep -h <span class="string">"str"</span> file</span><br><span class="line"><span class="comment"># 只显示文件名</span></span><br><span class="line">grep -l <span class="string">"str"</span> file</span><br><span class="line"><span class="comment"># 显示行号</span></span><br><span class="line">grep -n <span class="string">"str"</span> file</span><br><span class="line"><span class="comment"># 大写字母开头</span></span><br><span class="line">grep ^[[:upper:]] file</span><br><span class="line">grep ^[A~Z] file</span><br><span class="line"><span class="comment"># 精确匹配 the</span></span><br><span class="line">grep <span class="string">"\&lt;the\&gt;"</span> file</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># POSIX 增加的特殊编码</span></span><br><span class="line">[:upper:]  ==  [A~Z]</span><br><span class="line">[:lower:]  ==  [a~z]</span><br><span class="line">[:digit:]  ==  [0~9]</span><br><span class="line">[:alnum:]  ==  [0~9a-zA-Z]</span><br><span class="line">[:space:]  ==  空格或tab</span><br><span class="line">[:alpha:]  ==  [a~zA~Z]</span><br></pre></td></tr></table></figure>

<h4 id="xargs"><a href="#xargs" class="headerlink" title="xargs"></a>xargs</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 从standard input标注输入执行命令</span></span><br><span class="line"><span class="comment"># 将标准输入内容都会换成一个空格分割，默认命令/bin/echo</span></span><br><span class="line">-I 必须指定替换字符　</span><br><span class="line">－i 是否指定替换字符-可选</span><br><span class="line"></span><br><span class="line"><span class="built_in">pwd</span> | xargs basename         <span class="comment"># 允许不支持管道的命令执行</span></span><br><span class="line">ls /tmp | xargs -I <span class="string">'&#123;&#125;'</span> du /tmp/&#123;&#125;   <span class="comment"># -I将标准输入保存到&#123;&#125;</span></span><br><span class="line">ls /tmp | xargs -I <span class="string">'sth'</span> du /tmp/sth <span class="comment"># 同上 </span></span><br><span class="line"></span><br><span class="line">ls /config/pipeline/*.conf   | xargs -If  cp f ./</span><br></pre></td></tr></table></figure>

<h4 id="readlink"><a href="#readlink" class="headerlink" title="readlink"></a>readlink</h4><h4 id="which-amp-whereis"><a href="#which-amp-whereis" class="headerlink" title="which &amp; whereis"></a>which &amp; whereis</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查找shell命令的全路径 （根据PATH）</span></span><br><span class="line"><span class="built_in">which</span> <span class="built_in">cd</span>     <span class="comment"># 查找cd的绝对路径</span></span><br><span class="line"><span class="built_in">which</span> -a <span class="built_in">cd</span>  <span class="comment"># 查找所有PATH下的cd绝对路径，默认找第一个停止</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查找命令的二进制、源码、man手册 （根据PATH）</span></span><br><span class="line">whereis <span class="built_in">cd</span>      <span class="comment"># 查找cd相关</span></span><br><span class="line">whereis -b <span class="built_in">cd</span>   <span class="comment"># 只找cd的命令绝对路径</span></span><br><span class="line">whereis -m <span class="built_in">cd</span>   <span class="comment"># 只招手册</span></span><br><span class="line">whereis -s <span class="built_in">cd</span>   <span class="comment"># 只招源码</span></span><br></pre></td></tr></table></figure>

<h4 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 通过关键字找文件 （根据update管理的数据库）</span></span><br><span class="line"><span class="comment"># 操作前</span></span><br><span class="line">updatedb         <span class="comment"># 更新数据库，默认十分钟corn操作一次</span></span><br><span class="line">locate  tmp      <span class="comment"># 找绝对路径中包含tmp的文件或目录</span></span><br><span class="line">locate -b tmp    <span class="comment"># 找绝对路径中basename中包含tmp的文件或目录</span></span><br><span class="line">locate -b <span class="string">"\tmp"</span> <span class="comment"># 精确找绝对路径中basenamne是tmp的文件或目录</span></span><br><span class="line">locate -b -c tmp <span class="comment"># 统计找的绝对路径个数</span></span><br></pre></td></tr></table></figure>

<h4 id="find"><a href="#find" class="headerlink" title="find"></a>find</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 找到两天前文件压缩</span></span><br><span class="line">find /data/remotesyslog/<span class="built_in">test</span>/ -<span class="built_in">type</span> f -name <span class="string">"*.log"</span> -mtime +2 | xargs -If gzip f;</span><br><span class="line"><span class="comment"># 查找权限</span></span><br><span class="line">find . -name <span class="string">"t*"</span> -perm 744 -<span class="built_in">print</span> </span><br><span class="line"><span class="comment"># 查找当天内的log文件</span></span><br><span class="line">find .  -name <span class="string">"*.log"</span> -mtime 0 -<span class="built_in">exec</span> ls -l &#123;&#125; \;</span><br><span class="line">find .  -name <span class="string">"*.log"</span> -mtime -1 -<span class="built_in">exec</span> ls -l &#123;&#125; \;</span><br><span class="line"><span class="comment"># 查找昨天的log文件</span></span><br><span class="line">find .  -name <span class="string">"*.log"</span> -mtime 1 -<span class="built_in">exec</span> ls -l &#123;&#125; \;</span><br><span class="line"><span class="comment"># 查找昨天以前的log文件</span></span><br><span class="line">find .  -name <span class="string">"*.log"</span> -mtime +1 -<span class="built_in">exec</span> ls -l &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<h4 id="du"><a href="#du" class="headerlink" title="du"></a>du</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 统计文件占用磁盘大小</span></span><br><span class="line">du -ah /tmp       <span class="comment"># 递归目录下所有文件的大小</span></span><br><span class="line">du -sh /tmp       <span class="comment"># 统计目录的大小</span></span><br><span class="line">du -ch /tmp /var  <span class="comment"># 统计总的大小</span></span><br><span class="line">du --exclude <span class="string">"*.txt"</span> /tmp  <span class="comment"># 排除某类文件</span></span><br><span class="line">du --max-depth 2 /tmp  <span class="comment"># 显示深度2层</span></span><br><span class="line">du -d 2 /tmp           <span class="comment"># 同上</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 统计/下目录的大小，排除data和proc目录</span></span><br><span class="line">du -h -d 1 --exclude=<span class="string">"proc"</span> --exclude=<span class="string">"data"</span> /</span><br></pre></td></tr></table></figure>

<h4 id="kill"><a href="#kill" class="headerlink" title="kill"></a>kill</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看kill能发出的所有信号</span></span><br><span class="line"><span class="built_in">kill</span> -l</span><br></pre></td></tr></table></figure>

<h3 id="trap"><a href="#trap" class="headerlink" title="trap"></a>trap</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 捕捉信号后执行命令</span></span><br><span class="line"><span class="built_in">trap</span> cmd sig1</span><br><span class="line"></span><br><span class="line"><span class="comment"># 捕捉到INT信号（crtl+c）后脚本退出</span></span><br><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">trap</span> <span class="string">"echo 'You hit crtl+c'"</span> INT</span><br><span class="line"><span class="keyword">while</span> :</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">  <span class="built_in">let</span> count=count+1</span><br><span class="line">  <span class="built_in">echo</span> <span class="string">"this is <span class="variable">$count</span> sleep"</span></span><br><span class="line">  sleep 5</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 忽略对TERM INT信号的处理</span></span><br><span class="line"><span class="built_in">trap</span> <span class="string">""</span> TERM INT</span><br></pre></td></tr></table></figure>


<h4 id="mount"><a href="#mount" class="headerlink" title="mount"></a>mount</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mount -t iso9660 /dev/cdrom /mnt <span class="comment"># linux挂载光盘</span></span><br><span class="line">mount -o loop filename.iso /mnt  <span class="comment"># linux挂载ISO</span></span><br></pre></td></tr></table></figure>

<h4 id="curl"><a href="#curl" class="headerlink" title="curl"></a>curl</h4><p><a href="https://www.cnblogs.com/ruiy/p/curl.html" target="_blank" rel="noopener">curl</a></p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看公网ip</span></span><br><span class="line">curl ipinfo.io/ip</span><br><span class="line"></span><br><span class="line"><span class="comment"># 用户密码</span></span><br><span class="line">curl -u user:passwd http://test.com curl </span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取http_code</span></span><br><span class="line">curl -sL -o /dev/null -w <span class="string">"%&#123;http_code&#125;\n"</span> <span class="string">'http://res.qaxlist.com'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 保存js文件</span></span><br><span class="line"> curl -O  https://code.jquery.com/jquery-3.4.1.min.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查询本机公网IP</span></span><br><span class="line">curl ifconfig.me </span><br><span class="line"></span><br><span class="line"><span class="comment"># 访问时间</span></span><br><span class="line">curl -X POST -w %&#123;time_namelookup&#125;:%&#123;time_connect&#125;:%&#123;time_starttransfer&#125;:%&#123;time_total&#125; <span class="string">"http://test.com?id=123"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 拨测加cookie</span></span><br><span class="line">curl  -H <span class="string">'Cookie: env=idc'</span>  -H<span class="string">'Host:boss.we.com'</span> <span class="string">"http://10.10.10.142"</span> </span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算es的索引大小</span></span><br><span class="line">curl -s http://localhost:9201/_cat/indices | grep <span class="variable">$&#123;yesterday&#125;</span> | awk <span class="string">'&#123;print $NF&#125;'</span> | grep mb | awk -F<span class="string">'mb'</span> <span class="string">'&#123;print $1&#125;'</span>| tr <span class="string">'\n'</span> <span class="string">'+'</span> | sed <span class="string">'s/+$/ /g'</span>| xargs -I@  <span class="built_in">echo</span> \(@\)/1000 | bc</span><br><span class="line"></span><br><span class="line">curl -sv  -XPOST http://192.168.1.196:8080/v1/<span class="built_in">jobs</span>  -H <span class="string">"Content-Type:application/json"</span> -d<span class="string">'&#123;&#125;'</span></span><br><span class="line">“-s”的用作为：不显示创造的进度</span><br><span class="line">“-v”的作用为：显示请求和响应</span><br></pre></td></tr></table></figure>

<h4 id="shutdown-amp-poweroff-amp-reboot"><a href="#shutdown-amp-poweroff-amp-reboot" class="headerlink" title="shutdown &amp; poweroff &amp; reboot"></a>shutdown &amp; poweroff &amp; reboot</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 关机 重启</span></span><br><span class="line">shutdown -h now    <span class="comment"># 立刻关机</span></span><br><span class="line">shutdown -h 8:00   <span class="comment"># 8点关机</span></span><br><span class="line">shutdown -h +10    <span class="comment"># 系统再过十分钟自动关机</span></span><br><span class="line">shutdown -c        <span class="comment"># 取消命令</span></span><br></pre></td></tr></table></figure>

<h3 id="文件"><a href="#文件" class="headerlink" title="文件"></a>文件</h3><h4 id="touch"><a href="#touch" class="headerlink" title="touch"></a>touch</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">touch aa    # 文件存在则更新访问修改改变时间为当前时间</span><br><span class="line">touch -md 20141227 文件   # 指定修改时间</span><br><span class="line">touch -ad 时间 文件       # 指定访问时间</span><br></pre></td></tr></table></figure>

<h4 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -rfv 文件   # 强制递归删除</span><br></pre></td></tr></table></figure>

<h4 id="stat"><a href="#stat" class="headerlink" title="stat"></a>stat</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">stat</span></span></span><br><span class="line">  File: ‘aa’</span><br><span class="line">  Size: 0         	Blocks: 0          IO Block: 4096   regular empty file</span><br><span class="line">Device: fd01h/64769d	Inode: 484648      Links: 1</span><br><span class="line">Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)</span><br><span class="line">Access: 2020-02-09 14:39:36.427313631 +0800</span><br><span class="line">Modify: 2020-02-09 14:39:36.427313631 +0800</span><br><span class="line">Change: 2020-02-09 14:39:36.427313631 +0800</span><br><span class="line"> Birth: -</span><br></pre></td></tr></table></figure>

<h4 id="cp-amp-scp"><a href="#cp-amp-scp" class="headerlink" title="cp &amp; scp"></a>cp &amp; scp</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">cp -r 目录  新目录</span><br><span class="line">cp -a file1 file2 目录   # 复制并保留文件属性</span><br><span class="line">cp -u 源文件 目标文件     # 只有源文件比目标文件更新时才复制</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 远程copy</span></span><br><span class="line">scp file1 10.0.10.108:/tmp/      # 当前文件复制到远程tmp目录</span><br><span class="line">scp 10.0.10.108:/tmp/file1  ./   # 远程文件复制当前目录</span><br><span class="line">sshpass -p passwd scp -P 22 -r /tmp/aa user@it.abc.com:/10.11.9.156/tmp/ # 免密递归copy</span><br><span class="line">scp -P 22 -o StrictHostKeyChecking=no file1 10.0.10.108:/tmp/               # scp传输跳过第一次yes验证</span><br></pre></td></tr></table></figure>

<h4 id="rsync"><a href="#rsync" class="headerlink" title="rsync"></a>rsync</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 通过ssh或daemon为媒介</span><br><span class="line"># 考虑：文件属性、时间、权限、软链、断电续传、带宽、压缩</span><br><span class="line"></span><br><span class="line">-P 包含显示进度和断点续传</span><br><span class="line">-z 压缩</span><br><span class="line">-a 包含所有文件权限、属性、时间等</span><br><span class="line">--delete 目标目录和传输目录保持一致</span><br><span class="line">--bwlimit 1000 默认单位KBytes</span><br><span class="line">--partial  断点续传，传输中断不删除临时文件</span><br><span class="line">--progress 显示进度</span><br><span class="line"></span><br><span class="line"># 保持源、目标文件一致</span><br><span class="line">rsync -avP --delete test root@192.168.1.183:&#x2F;tmp&#x2F;test</span><br><span class="line"># 限制传输速度为1M</span><br><span class="line">rsync -avPz --bwlimit&#x3D;1000 aa root@192.168.1.183:&#x2F;tmp&#x2F;aa</span><br><span class="line"># 指定协议</span><br><span class="line">rsync -avPz -e &#39;ssh -p 223&#39; aa root@192.168.1.183:&#x2F;tmp&#x2F;aa</span><br></pre></td></tr></table></figure>

<h4 id="sz-amp-rz"><a href="#sz-amp-rz" class="headerlink" title="sz &amp; rz"></a>sz &amp; rz</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install lrzsz -y </span><br><span class="line">sz file  <span class="comment"># xshell文件传输</span></span><br></pre></td></tr></table></figure>

<h4 id="tar"><a href="#tar" class="headerlink" title="tar"></a>tar</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 归档排除某个目录</span></span><br><span class="line">tar zcvf zabbix.tgz  --exclude=zabbix/scripts  zabbix</span><br></pre></td></tr></table></figure>

<h3 id="zip"><a href="#zip" class="headerlink" title="zip"></a>zip</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">zip -r filename.zip filesdir</span><br><span class="line">zip file.zip file1 file2</span><br><span class="line"></span><br><span class="line">sudo yum install unzip -y</span><br><span class="line"><span class="comment"># 查看</span></span><br><span class="line">unzip -v large.zip</span><br><span class="line">unzip file.zip</span><br></pre></td></tr></table></figure>

<h4 id="gzip"><a href="#gzip" class="headerlink" title="gzip"></a>gzip</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">节省空间和网络传输时间</span><br><span class="line">gzip testfile           <span class="comment"># 压缩文件为testfile.gz</span></span><br><span class="line">gzip -l testfile.gz     <span class="comment"># 查看</span></span><br><span class="line">gzip -dv testfile.gz    <span class="comment"># 解压</span></span><br></pre></td></tr></table></figure>

<h4 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mv file1 file2 dir1 目标dir</span><br><span class="line"><span class="meta">#</span><span class="bash"> -p 保持权限</span></span><br><span class="line">mv -p file1 dir1</span><br></pre></td></tr></table></figure>

<h4 id="ln"><a href="#ln" class="headerlink" title="ln"></a>ln</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">ln 源文件 链接文件        <span class="comment"># 硬链接</span></span><br><span class="line">ln -s 源文件 链接文件 == cp -s 源文件 链接文件 <span class="comment"># 软链接</span></span><br><span class="line"><span class="comment"># 源文件要用绝对路径创建软链接</span></span><br><span class="line"><span class="comment"># 在软链接目录中 查看真实的路径： pwd -P</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 硬链接和软链接的区别</span></span><br><span class="line"><span class="comment"># 因指向同一文件，故对源、软、硬链接文件的任一修改都会修改</span></span><br><span class="line">硬链接</span><br><span class="line">1. 共享inode节点</span><br><span class="line">2. 不能对目录作硬链接</span><br><span class="line">3. 不能跨文件系统(分区)</span><br><span class="line">4. 删除源文件，链接文件不会受到影响</span><br><span class="line"></span><br><span class="line">软链接</span><br><span class="line">1. 不共享inode节点</span><br><span class="line">2. 能对目录作软连接</span><br><span class="line">3. 能跨越文件系统</span><br><span class="line">4. 删除源文件，链接文件失效</span><br><span class="line"></span><br><span class="line"><span class="comment"># 文件内容查找过程</span></span><br><span class="line">文件名——inode号——inode表——block块——内容数据 （硬链接和源文件）</span><br><span class="line">文件名——inode号——inode表——链接文件的源文件名——inode号——inode表——block块——内容数据 （软链接）</span><br><span class="line"></span><br><span class="line"><span class="comment"># 硬盘格式化分为两个区域</span></span><br><span class="line">1.inode table 区域(数据索引值)</span><br><span class="line">2.数据存储区域</span><br></pre></td></tr></table></figure>

<h4 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h4><h4 id="tac"><a href="#tac" class="headerlink" title="tac"></a>tac</h4><h4 id="more"><a href="#more" class="headerlink" title="more"></a>more</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 全屏方式分页查看</span></span><br><span class="line">enter 向下逐行显示</span><br><span class="line">空格   向下翻一屏 （末尾退出）</span><br><span class="line">b键   向上翻一屏 </span><br><span class="line">q    退出</span><br></pre></td></tr></table></figure>

<h4 id="less"><a href="#less" class="headerlink" title="less"></a>less</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 交互操作 （vim适用） </span></span><br><span class="line">enter 向下逐行显示</span><br><span class="line">空格   向下翻一屏 （末尾不退出）</span><br><span class="line">b键   向上翻一屏</span><br><span class="line">q    退出</span><br><span class="line">G    末尾</span><br><span class="line">gg   开头</span><br></pre></td></tr></table></figure>

<h4 id="head"><a href="#head" class="headerlink" title="head"></a>head</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">head file      <span class="comment"># 查看前10行</span></span><br><span class="line">head -n 3 file   <span class="comment"># 查看前3行</span></span><br><span class="line">head -c 3 file   <span class="comment"># 查看前c字节的内容，一字母一字节</span></span><br></pre></td></tr></table></figure>

<h4 id="tail"><a href="#tail" class="headerlink" title="tail"></a>tail</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">tail file         <span class="comment"># 最后十行</span></span><br><span class="line">tail -n 3 file    <span class="comment"># 最后三行</span></span><br><span class="line">tail -n +3 file   <span class="comment"># 从第三行开始到结束</span></span><br><span class="line">tail -f file      <span class="comment"># 监控追加到文件的内容，ctrl+c结束</span></span><br><span class="line">tail -n +10 file | head -1 <span class="comment"># 显示第十行</span></span><br><span class="line">head file | tail -n 1</span><br></pre></td></tr></table></figure>

<h4 id="mkdir-amp-rmdir"><a href="#mkdir-amp-rmdir" class="headerlink" title="mkdir &amp; rmdir"></a>mkdir &amp; rmdir</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -m 777 -p /aa/bb/cc  # 创建多级目录指定权限</span><br><span class="line">rmdir -p /aa/bb/cc         # 删除多级目录</span><br></pre></td></tr></table></figure>

<h4 id="lsyncd"><a href="#lsyncd" class="headerlink" title="lsyncd"></a>lsyncd</h4><p><a href="https://lifeimpressions.net/?z=56408&c=55kB*tUbi2E&l1=158121&l2=104666&l3=&l4=56cd1de15d25bf083ddf7a4b&l5=PM_ADSIZE_WIDTH&l6=PM_ADSIZE_HEIGHT&source_id=56cd1de15d25bf083ddf7a4b&f1=222261&f2=222262&f3=222263" target="_blank" rel="noopener">lsyncd</a></p>
<h4 id="cron"><a href="#cron" class="headerlink" title="cron"></a>cron</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 全局性计划任务时，修改/etc/crontab或者/etc/cron.d</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">'* * * * * root cd /usr/local/mymon &amp;&amp; ./mymon -c etc/myMon.cfg'</span> &gt; /etc/cron.d/mymon</span><br><span class="line"></span><br><span class="line"><span class="comment"># 写脚本时先判断</span></span><br><span class="line">[ -f /etc/cron.d/n9e ] || <span class="built_in">echo</span> <span class="string">'* * * * * root cd /usr/local/n9e-agent/;./control start &amp;&gt; /dev/null'</span> &gt; /etc/cron.d/n9e</span><br></pre></td></tr></table></figure>

<h3 id="用户"><a href="#用户" class="headerlink" title="用户"></a>用户</h3><h4 id="passwd"><a href="#passwd" class="headerlink" title="passwd"></a>passwd</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 锁定</span></span><br><span class="line">passwd -l user</span><br><span class="line"><span class="comment"># 解锁</span></span><br><span class="line">passwd -u user</span><br><span class="line"><span class="comment"># 强制下次登录修改密码</span></span><br><span class="line">passwd -f user</span><br></pre></td></tr></table></figure>

</div><div class="tags"><a href="/blog/tags/Linux/">Linux</a></div><div class="post-nav"><a class="pre" href="/blog/2020/07/19/k8s/k8s1-guide/">k8s入门</a><a class="next" href="/blog/2020/07/11/linux/cmd2_system/">Linux 系统命令</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="https://fearless11.github.io"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> Categories</i></div></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> Tags</i></div><div class="tagcloud"><a href="/blog/tags/hexo/" style="font-size: 15px;">hexo</a> <a href="/blog/tags/go/" style="font-size: 15px;">go</a> <a href="/blog/tags/vim/" style="font-size: 15px;">vim</a> <a href="/blog/tags/python3/" style="font-size: 15px;">python3</a> <a href="/blog/tags/vscode/" style="font-size: 15px;">vscode</a> <a href="/blog/tags/hotkey/" style="font-size: 15px;">hotkey</a> <a href="/blog/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/blog/tags/k8s%E6%98%AF%E4%BB%80%E4%B9%88%EF%BC%8C%E8%A7%A3%E5%86%B3%E4%BA%86%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98/" style="font-size: 15px;">k8s是什么，解决了什么问题</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> Recent</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/blog/2020/07/19/k8s/k8s1-guide/">k8s入门</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/07/11/linux/cmd1_daily/">Linux 常用命令</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/07/11/linux/cmd2_system/">Linux 系统命令</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/07/05/python/py1-tour/">python3(一)入门</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/07/05/go/go1-tour/">golang(一)入门</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/07/05/go/go2-style/">golang(一)风格</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/06/25/tools/vscode_plugin/">vscode插件</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/06/25/tools/quick/">Mac Chrome常用快捷键</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/06/15/vim/vim02-plugin/">vim插件</a></li><li class="post-list-item"><a class="post-list-link" href="/blog/2020/06/15/vim/vim01-basic/">vim基础</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> Links</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2020 <a href="/blog/." rel="nofollow">lemon11.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="/blog/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/blog/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="/blog/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/blog/js/smartresize.js?v=0.0.0"></script></div></body></html>